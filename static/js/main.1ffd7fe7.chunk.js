(this["webpackJsonpopentable-app"]=this["webpackJsonpopentable-app"]||[]).push([[0],{18:function(t,e,a){t.exports=a(32)},23:function(t,e,a){},24:function(t,e,a){},32:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),s=(a(23),a(24),a(4)),l=a(1),u=a(2),o=a(6),d=a(5),h=function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("h1",{"data-testid":"mainHeading"},"Restaurants in your City"))}}]),a}(n.Component),p=a(13),m=a.n(p),f=a(16),y=a(3),b=function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).handleChange=function(){var t=Object(f.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setState({city:e.target.value});case 2:this.props.getCity(this.state.city);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.state={city:""},n.handleChange=n.handleChange.bind(Object(y.a)(n)),n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"city"},"City: "),r.a.createElement("input",{type:"text",id:"city",value:this.state.city,placeholder:"Enter City name",onChange:this.handleChange,"data-testid":"yourCity"}))}}]),a}(n.Component),v=Object(s.b)((function(t){return t.restaurants?{city:t.restaurants.city}:{city:""}}),{getCity:function(t){return function(e){e({type:"GET_CITY",payload:t})}}})(b),E=function(t){Object(o.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).handleClick=function(t){n.props.fetchRestaurants(n.props.city)},n.state={filter:""},n.handleClick=n.handleClick.bind(Object(y.a)(n)),n}return Object(u.a)(a,[{key:"updateSearch",value:function(t){this.setState({filter:t.target.value.substr(0,15)})}},{key:"render",value:function(){var t,e,a=this;return this.props.restaurants&&(t=this.props.restaurants.filter((function(t){return-1!==t.address.toLowerCase().indexOf(a.state.filter.toLowerCase())}))),t&&(e=t.map((function(t){return r.a.createElement("div",{className:"restaurantDetails",key:t.id},r.a.createElement("h3",{className:"restaurantName","data-testid":"name"},"Name: ",t.name),r.a.createElement("p",{className:"restaurantAddress","data-testid":"address"},"Address: ",t.address),r.a.createElement("p",{className:"restaurantPrice","data-testid":"price"},"Price: ",t.price))}))),r.a.createElement("div",null,r.a.createElement("button",{className:"findButton","data-testid":"findButton",onClick:function(t){return a.handleClick(t)}},"Find Restaurants"),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement("label",{htmlFor:"filterRestaurants"},"Filter: "),r.a.createElement("input",{id:"filterRestaurants",className:"searchInput",type:"text",placeholder:"Filter by address",value:this.state.search,onChange:this.updateSearch.bind(this),"data-testid":"filterInput"}),r.a.createElement("div",{className:"restaurantList","data-testid":"restaurantList"},e))}}]),a}(n.Component),C=Object(s.b)((function(t){return t.items?{city:t.city,restaurants:t.items}:{city:t.city,restaurants:[]}}),{fetchRestaurants:function(t){return function(e){fetch("http://opentable.herokuapp.com/api/restaurants?city=".concat(t)).then((function(t){return t.json()})).then((function(t){return e({type:"FETCH_RESTAURANTS",payload:t.restaurants})}))}}})(E),j=a(7),O=a(17),g=a(8),k={city:"",items:[]};var w=[O.a],N=Object(j.d)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_CITY":return Object(g.a)(Object(g.a)({},t),{},{city:e.payload});case"FETCH_RESTAURANTS":return Object(g.a)(Object(g.a)({},t),{},{items:e.payload});default:return t}}),{},Object(j.c)(j.a.apply(void 0,w)));var R=function(){return r.a.createElement(s.a,{store:N},r.a.createElement("div",{className:"App wrapper"},r.a.createElement(h,null),r.a.createElement("main",null,r.a.createElement(v,null),r.a.createElement(C,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.1ffd7fe7.chunk.js.map